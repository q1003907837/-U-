webpackJsonp([10],{"9qU1":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o("Dd8w"),a=o.n(r),i=o("NYxO"),l={computed:a()({},Object(i.c)({menuList:function(t){return t.menu.menuList}})),props:["info"],data:function(){return{formData:{id:0,pid:0,title:"",icon:"",status:"",type:1,url:""},rules:{title:{required:!0,message:"请输入名称",trigger:"blur"},status:{required:!0,message:"请选择状态",trigger:"blur"}}}},methods:{submit:function(){var t=this;this.$refs.menuForm.validate(function(e){if(e){var o=t.formData.id>0?"/menuedit":"/menuadd";t.$http.post(o,t.formData).then(function(e){200===e.code?(t.$success(e.msg),t.info.isShow=!1,t.$emit("updateList")):t.$error(e.msg)})}})},setFormData:function(t){this.formData=a()({},t)},resetForm:function(){this.$refs.menuForm.resetFields(),this.formData={pid:0,title:"",icon:"",status:"",type:1,url:""}}}},n={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-dialog",{attrs:{title:t.formData.id>0?"编辑":"添加",visible:t.info.isShow},on:{close:t.resetForm,"update:visible":function(e){return t.$set(t.info,"isShow",e)}}},[o("el-form",{ref:"menuForm",attrs:{model:t.formData,rules:t.rules,"label-width":"60px"}},[o("el-form-item",{attrs:{label:"类型",prop:"type"}},[o("el-radio-group",{model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[o("el-radio",{attrs:{label:1}},[t._v("目录")]),t._v(" "),o("el-radio",{attrs:{label:2}},[t._v("菜单")])],1)],1),t._v(" "),2===t.formData.type?o("el-form-item",{attrs:{label:"上级",prop:"pid"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.pid,callback:function(e){t.$set(t.formData,"pid",e)},expression:"formData.pid"}},[o("el-option",{attrs:{value:0,label:"请选择"}}),t._v(" "),t._l(t.menuList,function(t){return o("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})],2)],1):t._e(),t._v(" "),o("el-form-item",{attrs:{label:"名称",prop:"title"}},[o("el-input",{attrs:{placeholder:"菜单标题"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),t._v(" "),1===t.formData.type?o("el-form-item",{attrs:{label:"图标",prop:"icon"}},[o("el-input",{attrs:{placeholder:"图标"},model:{value:t.formData.icon,callback:function(e){t.$set(t.formData,"icon",e)},expression:"formData.icon"}})],1):t._e(),t._v(" "),2===t.formData.type?o("el-form-item",{attrs:{label:"地址",prop:"url"}},[o("el-input",{attrs:{placeholder:"地址"},model:{value:t.formData.url,callback:function(e){t.$set(t.formData,"url",e)},expression:"formData.url"}})],1):t._e(),t._v(" "),o("el-form-item",{attrs:{label:"状态",prop:"status"}},[o("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[o("el-radio",{attrs:{label:1}},[t._v("正常")]),t._v(" "),o("el-radio",{attrs:{label:2}},[t._v("禁用")])],1)],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.info.isShow=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)},staticRenderFns:[]};var s={components:{Modal:o("VU/8")(l,n,!1,function(t){o("PEcf")},null,null).exports},created:function(){this.getMenuListAction()},computed:a()({},Object(i.c)({menuList:function(t){return t.menu.menuList}})),methods:a()({},Object(i.b)("menu",["getMenuListAction"]),{del:function(t){var e=this;this.$myConfirm(function(){e.$http.post("/menudelete",{id:t}).then(function(t){if(200===t.code)return e.$success(t.msg),e.getMenuListAction(),!1;e.$error(t.msg)})})},edit:function(t){this.info.isShow=!0,this.$refs.modalRef.setFormData(t)},showModal:function(){this.info.isShow=!this.info.isShow},updateList:function(){this.getMenuListAction()}}),data:function(){return{info:{isShow:!1},current:{}}}},u={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-card",[o("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"primary"},on:{click:t.showModal}},[t._v("新增")]),t._v(" "),o("el-divider"),t._v(" "),o("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.menuList,"row-key":"id","tree-props":{children:"children"}}},[o("el-table-column",{attrs:{prop:"id",label:"id",width:"180"}}),t._v(" "),o("el-table-column",{attrs:{prop:"title",label:"标题",width:"180"}}),t._v(" "),o("el-table-column",{attrs:{prop:"icon",label:"图标"},scopedSlots:t._u([{key:"default",fn:function(t){return[o("i",{class:t.row.icon})]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"status",label:" 状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.status?o("el-tag",{attrs:{type:"success"}},[t._v("正常")]):o("el-tag",{attrs:{type:"danger"}},[t._v("禁用")])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"url",label:"地址"}}),t._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{circle:"",size:"mini",icon:"el-icon-delete",type:"danger"},on:{click:function(o){return t.del(e.row.id)}}}),t._v(" "),o("el-button",{attrs:{circle:"",size:"mini",icon:"el-icon-edit",type:"success"},on:{click:function(o){return t.edit(e.row)}}})]}}])})],1),t._v(" "),o("Modal",{ref:"modalRef",attrs:{info:t.info},on:{updateList:t.updateList}})],1)},staticRenderFns:[]};var c=o("VU/8")(s,u,!1,function(t){o("lvVV")},null,null);e.default=c.exports},PEcf:function(t,e){},lvVV:function(t,e){}});
//# sourceMappingURL=10.b76fe512e63334fcc366.js.map