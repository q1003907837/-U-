{"version":3,"sources":["webpack:///src/pages/specs/List.vue","webpack:///./src/pages/specs/List.vue?b327","webpack:///./src/pages/specs/List.vue","webpack:///src/pages/specs/Modal.vue","webpack:///./src/pages/specs/Modal.vue?7bfb","webpack:///./src/pages/specs/Modal.vue","webpack:///src/pages/specs/Index.vue","webpack:///./src/pages/specs/Index.vue?9eaa","webpack:///./src/pages/specs/Index.vue"],"names":["List","props","methods","pageChange","page","this","$emit","edit","row","vm","extends_default","del","id","_this","$myConfirm","$http","post","then","res","code","$success","msg","Math","ceil","specsTotal","size","$error","specs_List","render","_vm","_h","$createElement","_c","_self","staticStyle","width","attrs","data","specsList","prop","label","min-width","_v","scopedSlots","_u","key","fn","_l","item","index","type","_s","status","circle","icon","on","click","$event","page-size","background","layout","total","current-change","staticRenderFns","Modal","created","$on","obj","formData","info","isShow","_this2","specsname","rules","required","message","trigger","validator","rule","value","callback","flag","forEach","Error","submit","_this3","$refs","formRef","validate","valid","join","url","reset","resetFields","addAttr","length","push","delAttr","splice","specs_Modal","title","visible","close","update:visible","$set","ref","model","label-width","placeholder","$$v","expression","staticClass","trim","slot","Index","components","__webpack_require__","normalizeComponent","ssrContext","Modal_normalizeComponent","Object","vuex_esm","sendData","getSpecsListAction","updateList","getSpecsTotalAction","computed","state","specs","specs_Index","Index_Component","Index_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/4.2e3a12a0db476c92cd64.js","sourcesContent":["<template>\r\n  <div>\r\n    <el-table :data=\"specsList\" style=\"width: 100%\">\r\n      <el-table-column prop=\"id\" label=\"id\" min-width=\"80\"></el-table-column>\r\n      <el-table-column\r\n        prop=\"specsname\"\r\n        label=\"规格名称\"\r\n        min-width=\"180\"\r\n      ></el-table-column>\r\n      <el-table-column prop=\"attrs\" min-width=\"180\" label=\"规格可选值\">\r\n        <template v-slot=\"props\">\r\n          <el-tag\r\n            type=\"success\"\r\n            v-for=\"(item, index) in props.row.attrs\"\r\n            :key=\"index\"\r\n            >{{ item }}</el-tag\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"status\" min-width=\"180\" label=\"状态\">\r\n        <template v-slot=\"props\">\r\n          <el-tag type=\"success\" v-if=\"props.row.status === 1\">正常</el-tag>\r\n          <el-tag type=\"danger\" v-else>禁用</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column min-width=\"180\" label=\"操作\">\r\n        <template v-slot=\"props\">\r\n          <el-button\r\n            @click=\"edit(props.row)\"\r\n            type=\"success\"\r\n            size=\"mini\"\r\n            circle\r\n            icon=\"el-icon-edit\"\r\n          ></el-button>\r\n          <el-button\r\n            @click=\"del(props.row.id)\"\r\n            type=\"danger\"\r\n            size=\"mini\"\r\n            circle\r\n            icon=\"el-icon-delete\"\r\n          ></el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-pagination\r\n      @current-change=\"pageChange\"\r\n      :page-size=\"size\"\r\n      background\r\n      layout=\"prev, pager, next\"\r\n      :total=\"specsTotal\"\r\n    ></el-pagination>\r\n  </div>\r\n</template>\r\n<script>\r\nimport vm from \"../../utils/vm\";\r\nexport default {\r\n  props: [\"specsList\", \"specsTotal\", \"size\", \"page\"],\r\n  methods: {\r\n    // 监听分页按钮的点击, page为页码\r\n    pageChange(page) {\r\n      this.$emit(\"sendData\", page);\r\n    },\r\n    //编辑\r\n    edit(row) {\r\n      vm.$emit(\"sendSpecsData\", { ...row });\r\n    },\r\n    //删除\r\n    del(id) {\r\n      this.$myConfirm(() => {\r\n        this.$http.post(\"/specsdelete\", { id }).then((res) => {\r\n          if (res.code === 200) {\r\n            this.$success(res.msg);\r\n            // 更新数据列表\r\n            this.$emit(\"updateList\");\r\n            //当前处于最后一页&&最后一页只有一条数据\r\n            if (\r\n              Math.ceil(this.specsTotal / this.size) === this.page &&\r\n              this.specsTotal % this.size === 1\r\n            ) {\r\n              // 请求上一页数据\r\n              this.$emit(\"updateList\", this.page - 1);\r\n            }\r\n          } else {\r\n            this.$error(res.msg);\r\n          }\r\n        });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.el-tag {\r\n  margin: 0 5px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/specs/List.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.specsList}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"id\",\"min-width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"specsname\",\"label\":\"规格名称\",\"min-width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"attrs\",\"min-width\":\"180\",\"label\":\"规格可选值\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return _vm._l((props.row.attrs),function(item,index){return _c('el-tag',{key:index,attrs:{\"type\":\"success\"}},[_vm._v(_vm._s(item))])})}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"status\",\"min-width\":\"180\",\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [(props.row.status === 1)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"正常\")]):_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(\"禁用\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"180\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\",\"circle\":\"\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.edit(props.row)}}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\",\"circle\":\"\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.del(props.row.id)}}})]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"page-size\":_vm.size,\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.specsTotal},on:{\"current-change\":_vm.pageChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-26ce5384\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/specs/List.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-26ce5384\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./List.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./List.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./List.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-26ce5384\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./List.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-26ce5384\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/specs/List.vue\n// module id = null\n// module chunks = ","<template>\r\n  <el-dialog\r\n    @close=\"reset\"\r\n    :title=\"formData.id > 0 ? '编辑' : '新增'\"\r\n    :visible.sync=\"info.isShow\"\r\n  >\r\n    <el-form ref=\"formRef\" :model=\"formData\" :rules=\"rules\" label-width=\"100px\">\r\n      <el-form-item label=\"规格名称\" prop=\"specsname\">\r\n        <el-input\r\n          v-model=\"formData.specsname\"\r\n          placeholder=\"规格名称\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"规格可选值\" prop=\"attrs\">\r\n        <div class=\"item\" v-for=\"(item, index) in attrs\" :key=\"index\">\r\n          <el-input\r\n            v-model.trim=\"attrs[index]\"\r\n            placeholder=\"规格可选值\"\r\n          ></el-input>\r\n          <el-button\r\n            v-if=\"index === 0\"\r\n            @click=\"addAttr\"\r\n            type=\"success\"\r\n            size=\"mini\"\r\n            >新增</el-button\r\n          >\r\n          <el-button v-else @click=\"delAttr(index)\" type=\"danger\" size=\"mini\"\r\n            >删除</el-button\r\n          >\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"状态\" prop=\"status\">\r\n        <el-radio-group v-model=\"formData.status\">\r\n          <el-radio :label=\"1\">正常</el-radio>\r\n          <el-radio :label=\"2\">禁用</el-radio>\r\n        </el-radio-group>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"reset\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"submit\">确 定</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport vm from \"../../utils/vm\";\r\nexport default {\r\n  created() {\r\n    // 监听自定义事件sendSpecsData\r\n    vm.$on(\"sendSpecsData\", (obj) => {\r\n      // 1-更新this.formData\r\n      this.formData = obj;\r\n      this.attrs = obj.attrs;\r\n      // 2-显示对话框组件\r\n      this.info.isShow = true;\r\n    });\r\n  },\r\n  props: [\"info\"],\r\n  data() {\r\n    // 自定义表单校验方法\r\n    const validAttrs = (rule, value, callback) => {\r\n      // 假设表单元素都输入了内容\r\n      var flag = true;\r\n      this.attrs.forEach((item) => {\r\n        if (item === \"\") {\r\n          flag = false;\r\n        }\r\n      });\r\n      if (!flag) {\r\n        return callback(new Error(\"请输入规格属性可选值\"));\r\n      }\r\n      // 表示表单校验通过\r\n      callback();\r\n    };\r\n    return {\r\n      // 规格可选值\r\n      attrs: [\"\"],\r\n      // 表单数据模型\r\n      formData: {\r\n        // 规格名称\r\n        specsname: \"\",\r\n        // 规格可选值\r\n        attrs: \"\",\r\n        // 状态\r\n        status: \"\",\r\n      },\r\n      // 表单校验规则\r\n      rules: {\r\n        specsname: {\r\n          required: true,\r\n          message: \"请输入规格名称\",\r\n          trigger: \"blur\",\r\n        },\r\n        status: { required: true, message: \"请选择状态\", trigger: \"blur\" },\r\n        attrs: { validator: validAttrs, trigger: \"blur\" },\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    submit() {\r\n      this.$refs.formRef.validate((valid) => {\r\n        if (valid) {\r\n          this.formData.attrs = this.attrs.join(\",\");\r\n          const url = this.formData.id > 0 ? \"/specsedit\" : \"/specsadd\";\r\n          this.$http.post(url, this.formData).then((res) => {\r\n            if (res.code === 200) {\r\n              this.$success(res.msg);\r\n              // 更新数据列表\r\n              this.$emit(\"updateList\");\r\n              // 数据重置\r\n              this.reset();\r\n            } else {\r\n              this.$error(res.msg);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    reset() {\r\n      this.formData = { specsname: \"\", status: \"\", attrs: \"\" };\r\n      this.attrs = [\"\"];\r\n      this.$refs.formRef.resetFields();\r\n      this.info.isShow = false;\r\n    },\r\n    // 新增属性可选值\r\n    addAttr() {\r\n      if (this.attrs.length >= 5) {\r\n        return this.$error(\"最多只能添加5个属性值\");\r\n      }\r\n      this.attrs.push(\"\");\r\n    },\r\n    // 删除属性可选值\r\n    delAttr(index) {\r\n      this.attrs.splice(index, 1);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.item {\r\n  display: flex;\r\n  margin: 5px 0;\r\n}\r\n.item .el-button {\r\n  margin-left: 10px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/specs/Modal.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.formData.id > 0 ? '编辑' : '新增',\"visible\":_vm.info.isShow},on:{\"close\":_vm.reset,\"update:visible\":function($event){return _vm.$set(_vm.info, \"isShow\", $event)}}},[_c('el-form',{ref:\"formRef\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"规格名称\",\"prop\":\"specsname\"}},[_c('el-input',{attrs:{\"placeholder\":\"规格名称\"},model:{value:(_vm.formData.specsname),callback:function ($$v) {_vm.$set(_vm.formData, \"specsname\", $$v)},expression:\"formData.specsname\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"规格可选值\",\"prop\":\"attrs\"}},_vm._l((_vm.attrs),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('el-input',{attrs:{\"placeholder\":\"规格可选值\"},model:{value:(_vm.attrs[index]),callback:function ($$v) {_vm.$set(_vm.attrs, index, (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"attrs[index]\"}}),_vm._v(\" \"),(index === 0)?_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":_vm.addAttr}},[_vm._v(\"新增\")]):_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.delAttr(index)}}},[_vm._v(\"删除\")])],1)}),0),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"status\"}},[_c('el-radio-group',{model:{value:(_vm.formData.status),callback:function ($$v) {_vm.$set(_vm.formData, \"status\", $$v)},expression:\"formData.status\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"正常\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"禁用\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.reset}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-39248382\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/specs/Modal.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-39248382\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Modal.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Modal.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Modal.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-39248382\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Modal.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-39248382\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/specs/Modal.vue\n// module id = null\n// module chunks = ","<template>\r\n  <el-card>\r\n    <el-button\r\n      @click=\"info.isShow = !info.isShow\"\r\n      type=\"primary\"\r\n      icon=\"el-icon-circle-plus-outline\"\r\n      >新增</el-button\r\n    >\r\n    <el-divider />\r\n    <!-- 调用子组件List -->\r\n    <List\r\n      @sendData=\"sendData\"\r\n      :specsList=\"specsList\"\r\n      :specsTotal=\"specsTotal\"\r\n      @updateList=\"updateList\"\r\n      :size=\"size\"\r\n      :page=\"page\"\r\n    />\r\n    <!-- 调用子组件Modal -->\r\n    <Modal @updateList=\"updateList\" :info=\"info\" />\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from \"vuex\";\r\nimport List from \"./List\";\r\nimport Modal from \"./Modal\";\r\nexport default {\r\n  components: {\r\n    List,\r\n    Modal,\r\n  },\r\n  data() {\r\n    return {\r\n      info: {\r\n        isShow: false,\r\n      },\r\n      page: 1,\r\n      size: 3,\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions(\"specs\", [\"getSpecsListAction\", \"getSpecsTotalAction\"]),\r\n    sendData(page) {\r\n      (this.page = page),\r\n        this.getSpecsListAction({ page: this.page, size: this.size });\r\n    },\r\n    updateList(page) {\r\n      if (page) {\r\n        this.page = page;\r\n      }\r\n      this.getSpecsListAction({ page: this.page, size: this.size });\r\n      this.getSpecsTotalAction();\r\n    },\r\n  },\r\n  created() {\r\n    this.getSpecsListAction({ page: this.page, size: this.size });\r\n    this.getSpecsTotalAction();\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      specsList: (state) => state.specs.specsList,\r\n      specsTotal: (state) => state.specs.specsTotal,\r\n    }),\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/specs/Index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":function($event){_vm.info.isShow = !_vm.info.isShow}}},[_vm._v(\"新增\")]),_vm._v(\" \"),_c('el-divider'),_vm._v(\" \"),_c('List',{attrs:{\"specsList\":_vm.specsList,\"specsTotal\":_vm.specsTotal,\"size\":_vm.size,\"page\":_vm.page},on:{\"sendData\":_vm.sendData,\"updateList\":_vm.updateList}}),_vm._v(\" \"),_c('Modal',{attrs:{\"info\":_vm.info},on:{\"updateList\":_vm.updateList}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-999a3458\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/specs/Index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-999a3458\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-999a3458\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/specs/Index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}