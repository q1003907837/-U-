{"version":3,"sources":["webpack:///src/pages/cate/List.vue","webpack:///./src/pages/cate/List.vue?1559","webpack:///./src/pages/cate/List.vue","webpack:///src/pages/cate/Modal.vue","webpack:///./src/pages/cate/Modal.vue?3798","webpack:///./src/pages/cate/Modal.vue","webpack:///src/pages/cate/Index.vue","webpack:///./src/pages/cate/Index.vue?8b04","webpack:///./src/pages/cate/Index.vue"],"names":["List","props","data","methods","edit","row","vm","$emit","extends_default","del","id","_this","this","$myConfirm","$http","post","then","res","code","$success","msg","$error","cate_List","render","_vm","_h","$createElement","_c","_self","staticStyle","width","margin-bottom","attrs","cateList","row-key","tree-props","children","hasChildren","prop","label","min-width","_v","scopedSlots","_u","key","fn","img","height","src","$imgBaseUrl","alt","_e","status","type","size","circle","icon","on","click","$event","staticRenderFns","pages_cate_List","__webpack_require__","normalizeComponent","ssrContext","Modal","computed","Object","vuex_esm","state","cate","created","$on","info","isShow","formData","fileList","url","dialogImageUrl","dialogVisible","pid","catename","rules","required","message","trigger","handlePictureCardPreview","file","fileChange","raw","limitTips","submit","_this2","$refs","formRef","validate","valid","fd","FormData","append","reset","resetFields","cate_Modal","title","visible","close","update:visible","$set","ref","model","label-width","value","callback","$$v","expression","_l","item","placeholder","action","list-type","on-preview","auto-upload","on-change","limit","on-exceed","file-list","staticClass","slot","Index","components","Modal_normalizeComponent","getCateListAction","updateList","cate_Index","Index_Component","Index_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/5.d204a0247e14431df65e.js","sourcesContent":["<template>\r\n  <el-table\r\n    :data=\"cateList\"\r\n    style=\"width: 100%; margin-bottom: 20px\"\r\n    row-key=\"id\"\r\n    :tree-props=\"{ children: 'children', hasChildren: 'hasChildren' }\"\r\n  >\r\n    <el-table-column prop=\"id\" label=\"id\" min-width=\"80\"></el-table-column>\r\n    <el-table-column prop=\"img\" label=\"分类图片\" min-width=\"180\">\r\n      <template v-slot=\"props\">\r\n        <img\r\n          v-if=\"props.row.img !== ''\"\r\n          style=\"height: 80px\"\r\n          :src=\"$imgBaseUrl + props.row.img\"\r\n          alt=\"\"\r\n        />\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"catename\"\r\n      label=\"分类名称\"\r\n      min-width=\"180\"\r\n    ></el-table-column>\r\n    <el-table-column prop=\"status\" label=\"状态\" min-width=\"180\">\r\n      <template v-slot=\"props\">\r\n        <el-tag type=\"success\" v-if=\"props.row.status === 1\">正常</el-tag>\r\n        <el-tag type=\"danger\" v-else>禁用</el-tag>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column label=\"操作\" min-width=\"180\">\r\n      <template v-slot=\"props\">\r\n        <el-button\r\n          @click=\"edit(props.row)\"\r\n          size=\"mini\"\r\n          circle\r\n          type=\"success\"\r\n          icon=\"el-icon-edit\"\r\n        ></el-button>\r\n        <el-button\r\n          @click=\"del(props.row.id)\"\r\n          size=\"mini\"\r\n          circle\r\n          type=\"danger\"\r\n          icon=\"el-icon-delete\"\r\n        ></el-button>\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n</template>\r\n\r\n\r\n<script>\r\n//导入事件中心\r\nimport vm from \"../../utils/vm\";\r\nexport default {\r\n  props: [\"cateList\"],\r\n  data() {\r\n    return {};\r\n  },\r\n  methods: {\r\n    //编辑\r\n    edit(row) {\r\n      vm.$emit(\"sendCateDate\", { ...row });\r\n    },\r\n    //删除\r\n    del(id) {\r\n      this.$myConfirm(() => {\r\n        this.$http.post(\"/catedelete\", { id }).then((res) => {\r\n          if (res.code === 200) {\r\n            this.$success(res.msg);\r\n            this.$emit(\"updateList\");\r\n          } else {\r\n            this.$error(res.msg);\r\n          }\r\n        });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/cate/List.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"20px\"},attrs:{\"data\":_vm.cateList,\"row-key\":\"id\",\"tree-props\":{ children: 'children', hasChildren: 'hasChildren' }}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"id\",\"min-width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"img\",\"label\":\"分类图片\",\"min-width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [(props.row.img !== '')?_c('img',{staticStyle:{\"height\":\"80px\"},attrs:{\"src\":_vm.$imgBaseUrl + props.row.img,\"alt\":\"\"}}):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"catename\",\"label\":\"分类名称\",\"min-width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"状态\",\"min-width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [(props.row.status === 1)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"正常\")]):_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(\"禁用\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"min-width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-button',{attrs:{\"size\":\"mini\",\"circle\":\"\",\"type\":\"success\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.edit(props.row)}}}),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"circle\":\"\",\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.del(props.row.id)}}})]}}])})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-24c37f58\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/cate/List.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-24c37f58\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./List.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./List.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./List.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-24c37f58\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./List.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/cate/List.vue\n// module id = null\n// module chunks = ","<template>\r\n  <el-dialog\r\n    @close=\"reset\"\r\n    :title=\"formData.id > 0 ? '编辑' : '新增'\"\r\n    :visible.sync=\"info.isShow\"\r\n  >\r\n    <el-form ref=\"formRef\" :model=\"formData\" :rules=\"rules\" label-width=\"80px\">\r\n      <el-form-item label=\"上级\" prop=\"pid\">\r\n        <el-select v-model=\"formData.pid\">\r\n          <el-option :value=\"0\" label=\"顶级分类\"></el-option>\r\n          <el-option\r\n            v-for=\"item in cateList\"\r\n            :key=\"item.id\"\r\n            :value=\"item.id\"\r\n            :label=\"item.catename\"\r\n          ></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"名称\" prop=\"catename\">\r\n        <el-input placeholder=\"名称\" v-model=\"formData.catename\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"图片\" prop=\"img\" v-if=\"formData.pid !== 0\">\r\n        <!-- \r\n             action: 指定图片上传的数据接口 \r\n             auto-upload: 是否自动上传图片, 默认自动上传\r\n             on-preview: 图片预览事件\r\n             on-change: 当用户选择文件的时候, 自动触发\r\n             limit: 最大允许上传个数\r\n             on-exceed:文件超出个数限制时的钩子\r\n             file-list: 设置默认需要展示的图片列表, 需要一个数组[{name: 'food.jpg', url: 'https://xxx.cdn.com/xxx.jpg'}]\r\n        -->\r\n        <el-upload\r\n          ref=\"upload\"\r\n          action=\"#\"\r\n          list-type=\"picture-card\"\r\n          :on-preview=\"handlePictureCardPreview\"\r\n          :auto-upload=\"false\"\r\n          :on-change=\"fileChange\"\r\n          :limit=\"1\"\r\n          :on-exceed=\"limitTips\"\r\n          :file-list=\"fileList\"\r\n        >\r\n          <i class=\"el-icon-plus\"></i>\r\n        </el-upload>\r\n        <el-dialog :visible.sync=\"dialogVisible\">\r\n          <img width=\"100%\" :src=\"dialogImageUrl\" alt />\r\n        </el-dialog>\r\n      </el-form-item>\r\n      <el-form-item label=\"状态\" prop=\"status\">\r\n        <el-radio-group v-model=\"formData.status\">\r\n          <el-radio :label=\"1\">正常</el-radio>\r\n          <el-radio :label=\"2\">禁用</el-radio>\r\n        </el-radio-group>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"reset\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"submit\">确 定</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport vm from \"../../utils/vm\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  props: [\"info\"],\r\n  computed: {\r\n    ...mapState({ cateList: (state) => state.cate.cateList }),\r\n  },\r\n  created() {\r\n    vm.$on(\"sendCateDate\", (row) => {\r\n      this.info.isShow = true;\r\n      this.formData = row;\r\n      //更新fileList\r\n      this.fileList = [{ url: this.$imgBaseUrl + row.img }];\r\n    });\r\n  },\r\n  data() {\r\n    return {\r\n      // 上传组件所需属性\r\n      dialogImageUrl: \"\",\r\n      dialogVisible: false,\r\n      // upload组件默认需要展示的图片列表\r\n      fileList: [],\r\n      formData: {\r\n        pid: 0,\r\n        catename: \"\",\r\n        img: \"\",\r\n        status: \"\",\r\n      },\r\n      // 表单校验规则对象\r\n      rules: {\r\n        pid: { required: true, message: \"请选择上级\", trigger: \"blur\" },\r\n        catename: {\r\n          required: true,\r\n          message: \"请输入分类名称\",\r\n          trigger: \"blur\",\r\n        },\r\n        status: { required: true, message: \"请选择状态\", trigger: \"blur\" },\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    // 上传组件相关方法\r\n    handlePictureCardPreview(file) {\r\n      this.dialogImageUrl = file.url;\r\n      this.dialogVisible = true;\r\n    },\r\n    // 监听用户选择文件\r\n    // file: 系统自动注入, 表示用户选择的文件对象\r\n    fileChange(file) {\r\n      // 手动更新数据\r\n      this.formData.img = file.raw;\r\n    },\r\n    // 图片数量超过上限的提示\r\n    limitTips() {\r\n      this.$error(\"最多只能上传一张\");\r\n    },\r\n    submit() {\r\n      this.$refs.formRef.validate((valid) => {\r\n        if (valid) {\r\n          const fd = new FormData();\r\n          delete this.formData.children;\r\n          for (let key in this.formData) {\r\n            fd.append(key, this.formData[key]);\r\n          }\r\n          const url = this.formData.id > 0 ? \"/cateedit\" : \"/cateadd\";\r\n          this.$http.post(url, fd).then((res) => {\r\n            if (res.code === 200) {\r\n              this.$success(res.msg);\r\n              this.$emit(\"updateList\");\r\n              this.reset();\r\n            } else {\r\n              this.$error(res.msg);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    reset() {\r\n      //重置图片数组\r\n      this.fileList = [];\r\n      // 重置表单\r\n      this.$refs.formRef.resetFields();\r\n      // 重置数据对象formData\r\n      this.formData = {\r\n        pid: 0,\r\n        catename: \"\",\r\n        img: \"123\",\r\n        status: \"\",\r\n      };\r\n      // 关闭对话框组件\r\n      this.info.isShow = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/cate/Modal.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.formData.id > 0 ? '编辑' : '新增',\"visible\":_vm.info.isShow},on:{\"close\":_vm.reset,\"update:visible\":function($event){return _vm.$set(_vm.info, \"isShow\", $event)}}},[_c('el-form',{ref:\"formRef\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"上级\",\"prop\":\"pid\"}},[_c('el-select',{model:{value:(_vm.formData.pid),callback:function ($$v) {_vm.$set(_vm.formData, \"pid\", $$v)},expression:\"formData.pid\"}},[_c('el-option',{attrs:{\"value\":0,\"label\":\"顶级分类\"}}),_vm._v(\" \"),_vm._l((_vm.cateList),function(item){return _c('el-option',{key:item.id,attrs:{\"value\":item.id,\"label\":item.catename}})})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"名称\",\"prop\":\"catename\"}},[_c('el-input',{attrs:{\"placeholder\":\"名称\"},model:{value:(_vm.formData.catename),callback:function ($$v) {_vm.$set(_vm.formData, \"catename\", $$v)},expression:\"formData.catename\"}})],1),_vm._v(\" \"),(_vm.formData.pid !== 0)?_c('el-form-item',{attrs:{\"label\":\"图片\",\"prop\":\"img\"}},[_c('el-upload',{ref:\"upload\",attrs:{\"action\":\"#\",\"list-type\":\"picture-card\",\"on-preview\":_vm.handlePictureCardPreview,\"auto-upload\":false,\"on-change\":_vm.fileChange,\"limit\":1,\"on-exceed\":_vm.limitTips,\"file-list\":_vm.fileList}},[_c('i',{staticClass:\"el-icon-plus\"})]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"status\"}},[_c('el-radio-group',{model:{value:(_vm.formData.status),callback:function ($$v) {_vm.$set(_vm.formData, \"status\", $$v)},expression:\"formData.status\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"正常\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"禁用\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.reset}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bf0f0f24\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/cate/Modal.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bf0f0f24\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Modal.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Modal.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Modal.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bf0f0f24\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Modal.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/cate/Modal.vue\n// module id = null\n// module chunks = ","<template>\r\n  <el-card>\r\n    <el-button\r\n      @click=\"info.isShow = !info.isShow\"\r\n      type=\"primary\"\r\n      icon=\"el-icon-circle-plus-outline\"\r\n      >新增</el-button\r\n    >\r\n    <el-divider> </el-divider>\r\n    <List :cateList=\"cateList\" @updateList=\"updateList\" />\r\n    <Modal :info=\"info\" @updateList=\"updateList\" />\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport List from \"./List\";\r\nimport Modal from \"./Modal\";\r\n\r\nimport { mapState, mapActions } from \"vuex\";\r\nexport default {\r\n  components: {\r\n    List,\r\n    Modal,\r\n  },\r\n  created() {\r\n    this.getCateListAction();\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      cateList: (state) => state.cate.cateList,\r\n    }),\r\n  },\r\n  methods: {\r\n    ...mapActions(\"cate\", [\"getCateListAction\"]),\r\n    updateList() {\r\n      this.getCateListAction();\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      info: {\r\n        isShow: false,\r\n      },\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/cate/Index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":function($event){_vm.info.isShow = !_vm.info.isShow}}},[_vm._v(\"新增\")]),_vm._v(\" \"),_c('el-divider'),_vm._v(\" \"),_c('List',{attrs:{\"cateList\":_vm.cateList},on:{\"updateList\":_vm.updateList}}),_vm._v(\" \"),_c('Modal',{attrs:{\"info\":_vm.info},on:{\"updateList\":_vm.updateList}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ffc37270\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/cate/Index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ffc37270\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ffc37270\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/cate/Index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}