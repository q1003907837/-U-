webpackJsonp([3],{"1Yhw":function(t,e){},"Dt/K":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Dd8w"),s=i.n(n),a=i("NYxO"),r=i("2cek"),o={props:["bannerList"],methods:{edit:function(t){r.a.$emit("sendBannerData",s()({},t))},del:function(t){var e=this;this.$myConfirm(function(){e.$http.post("/bannerdelete",{id:t}).then(function(t){200===t.code?(e.$success(t.msg),e.$emit("updateList")):e.$error(t.msg)})})}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bannerList}},[i("el-table-column",{attrs:{align:"center",prop:"title",label:"轮播图名称"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"图片"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("img",{staticStyle:{height:"80px"},attrs:{src:t.$imgBaseUrl+e.row.img}})]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.status?i("el-tag",{attrs:{type:"success"}},[t._v("正常")]):i("el-tag",{attrs:{type:"danger"}},[t._v("禁用")])]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"status",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"success",circle:"",icon:"el-icon-edit",size:"mini"},on:{click:function(i){return t.edit(e.row)}}}),t._v(" "),i("el-button",{attrs:{type:"danger",circle:"",icon:"el-icon-delete",size:"mini"},on:{click:function(i){return t.del(e.row.id)}}})]}}])})],1)},staticRenderFns:[]};var c={props:["info"],created:function(){var t=this;r.a.$on("sendBannerData",function(e){t.formData=e,t.info.isShow=!0,t.imgList=""!==e.img?[{url:t.$imgBaseUrl+e.img}]:[]})},data:function(){return{dialogImageUrl:"",dialogVisible:!1,activeName:"first",imgList:[],formData:{img:"",status:"",title:""}}},methods:{specsChange:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.specsList.findIndex(function(e){return e.id===t});console.log(this.specsList[i]),this.specsAttrs=this.specsList[i].attrs,e&&(this.formData.specsattr=[])},imgChange:function(t){this.formData.img=t.raw},limitTips:function(){this.$error("此处只能上传一张图片")},submit:function(){var t=this;this.$refs.formRef.validate(function(e){if(e){var i=new FormData;for(var n in t.formData)i.append(n,t.formData[n]);var s=t.formData.id>0?"/banneredit":"/banneradd";t.$http.post(s,i).then(function(e){200===e.code?(t.$success(e.msg),t.$emit("updateList"),t.reset()):t.$error(e.msg)})}})},reset:function(){this.formData={img:"",status:"",title:""},this.$refs.formRef.resetFields(),this.info.isShow=!1,this.imgList=[]}}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:"新增",visible:t.info.isShow},on:{close:t.reset,"update:visible":function(e){return t.$set(t.info,"isShow",e)}}},[i("el-form",{ref:"formRef",attrs:{model:t.formData,"label-width":"90px"}},[i("el-form-item",{attrs:{label:"轮播图名称",prop:"title"}},[i("el-input",{model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"图片",prop:"img"}},[i("el-upload",{attrs:{action:"#","auto-upload":!1,"list-type":"picture-card",limit:1,"on-exceed":t.limitTips,"on-change":t.imgChange,"file-list":t.imgList}},[i("i",{staticClass:"el-icon-plus"})]),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("img",{attrs:{width:"100%",src:t.dialogImageUrl}})])],1),t._v(" "),i("el-form-item",{attrs:{label:"状态",prop:"status"}},[i("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[i("el-radio",{attrs:{label:1}},[t._v("正常")]),t._v(" "),i("el-radio",{attrs:{label:2}},[t._v("禁用")])],1)],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.reset}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)},staticRenderFns:[]};var f={data:function(){return{info:{isShow:!1}}},components:{List:i("VU/8")(o,l,!1,function(t){i("gtXy")},null,null).exports,Modal:i("VU/8")(c,u,!1,function(t){i("dcTm")},null,null).exports},computed:s()({},Object(a.c)({bannerList:function(t){return t.banner.bannerList}})),methods:s()({},Object(a.b)("banner",["getBannerListAction"]),{updateList:function(){this.getBannerListAction()}}),created:function(){this.getBannerListAction()}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-card",[i("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.info.isShow=!t.info.isShow}}},[t._v("新增\n  ")]),t._v(" "),i("el-divider"),t._v(" "),i("List",{attrs:{bannerList:t.bannerList},on:{updateList:t.updateList}}),t._v(" "),i("Modal",{attrs:{info:t.info},on:{updateList:t.updateList}})],1)},staticRenderFns:[]};var m=i("VU/8")(f,d,!1,function(t){i("1Yhw")},null,null);e.default=m.exports},dcTm:function(t,e){},gtXy:function(t,e){}});
//# sourceMappingURL=3.1e29d066125ecf6802ca.js.map